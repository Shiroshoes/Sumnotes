<MainScreen>:
    MDBoxLayout:
        orientation: "vertical"
        spacing: dp(10)
        padding: dp(10)

        # Top Search Bar
        MDBoxLayout:
            size_hint_y: None
            height: dp(60)
            spacing: dp(10)

            MDIconButton:
                id: settings_btn
                icon: "dots-vertical"
                on_release: app.toggle_delete_icons()

            MDTextField:
                hint_text: "Search"
                mode: "rectangle"

            MDIconButton:
                icon: "magnify"

            MDIconButton:
                icon: "notebook"

        # Divider Line under Search
        MDBoxLayout:
            size_hint_y: None
            height: dp(2)
            md_bg_color: 0, 0, 0, 1

        # ----------------- Pinned Notes -----------------
        MDLabel:
            text: "Pinned Notes"
            halign: "left"
            font_style: "H6"
            size_hint_y: None
            height: dp(40)

        MDScrollView:
            size_hint_y: None
            height: dp(250)

            MDGridLayout:
                cols: 2
                spacing: dp(10)
                adaptive_height: True

                # Example Card (Clickable)
                MDCard:
                    orientation: "vertical"
                    size_hint: None, None
                    size: dp(170), dp(200)
                    padding: dp(10)
                    radius: [15, 15, 15, 15]
                    md_bg_color: .85, .85, .85, 1
                    on_release: app.show_note_detail("Pinned Note Example")

                    MDBoxLayout:
                        orientation: "horizontal"
                        size_hint_y: None
                        height: dp(30)

                        MDLabel:
                            text: "Notes Title"
                            bold: True
                            font_style: "Subtitle1"
                            halign: "left"

                        MDIconButton:
                            icon: "delete"
                            theme_icon_color: "Custom"
                            icon_color: 1, 0, 0, 1
                            size_hint_x: None
                            width: dp(40)
                            opacity: 0   # hidden until toggle
                            on_release: app.delete_note("Pinned Note Example")

                    MDLabel:
                        text: "Notes inputted where the user input their notes"
                        halign: "left"
                        theme_text_color: "Secondary"

        # Divider Line
        MDBoxLayout:
            size_hint_y: None
            height: dp(2)
            md_bg_color: 0, 0, 0, 1

        # ----------------- Notes -----------------
        MDLabel:
            text: "Notes"
            halign: "left"
            font_style: "H6"
            size_hint_y: None
            height: dp(40)

        MDScrollView:
            MDGridLayout:
                cols: 2
                spacing: dp(10)
                adaptive_height: True

                MDCard:
                    orientation: "vertical"
                    size_hint: None, None
                    size: dp(170), dp(200)
                    padding: dp(10)
                    radius: [15, 15, 15, 15]
                    md_bg_color: .85, .85, .85, 1
                    on_release: app.show_note_detail("Normal Note Example")

                    MDBoxLayout:
                        orientation: "horizontal"
                        size_hint_y: None
                        height: dp(30)

                        MDLabel:
                            text: "Notes Title"
                            bold: True
                            font_style: "Subtitle1"
                            halign: "left"

                        MDIconButton:
                            icon: "delete"
                            theme_icon_color: "Custom"
                            icon_color: 1, 0, 0, 1
                            size_hint_x: None
                            width: dp(40)
                            opacity: 0
                            on_release: app.delete_note("Normal Note Example")

                    MDLabel:
                        text: "Notes inputted where the user input their notes"
                        halign: "left"
                        theme_text_color: "Secondary"

    # Floating + Button
    MDFloatingActionButton:
        id: plus_btn
        icon: "plus"
        md_bg_color: 0, 0, 0, 1
        pos_hint: {"center_x": .92, "center_y": .1}
        on_release: app.toggle_new_note_form()

    # Hidden Floating Form
    MDCard:
        id: new_note_form
        orientation: "horizontal"
        size_hint: None, None
        size: dp(160), dp(50)
        radius: [20, 20, 20, 20]
        md_bg_color: 1, 1, 1, 1
        pos_hint: {"center_x": .72, "center_y": .13}
        elevation: 5
        opacity: 0
        on_release: app.create_new_note()

        MDIcon:
            icon: "notebook"
            size_hint_x: None
            width: dp(40)

        MDLabel:
            text: "New Notes"
            halign: "left"
            bold: True
